{%- if include.theme == 'dark' -%}
  <header class="header header--dark" {%- if include.background -%} style="background: {{ include.background }};" {%- endif -%}>
{%- elsif include.theme == 'light' -%}
  <header class="header header--light" {%- if include.background -%} style="background: {{ include.background }};" {%- endif -%}>
{%- else -%}
  <header class="header" {%- if include.background -%} style="background: {{ include.background }};" {%- endif -%}>
{%- endif -%}
    <div class="main">
      <div class="header__title">
        <div class="header__brand">
          <div class="brand_logo">
            <a href="/Arm-Developer-Labs/">
              {%- include svg/Arm_Developer_Logo_Ink_Violet.svg -%}
            </a>
          </div>
          {%- assign _paths_root = site.paths.root | default: site.data.variables.default.paths.root  -%}
          {%- include snippets/get-nav-url.html path=_paths_root -%}
          <!-- {%- if site.title -%}
            <a title="{%- if site.description -%}{{ site.description }}{%- endif -%}" href="{{ __return }}">{{ site.title }}</a>
          {%- endif -%} -->
        </div>
        {%- if page.url == "/" or page.url == "/index.html" -%}
        <button class="button button--secondary mission-button mission-button--desktop" onclick="document.querySelector('.grid.grid--reverse')?.scrollIntoView({behavior: 'smooth', block: 'start'})">Mission Statement</button>
        {%- else -%}
        <a class="button button--secondary mission-button mission-button--desktop" href="{{ "/#mission" | relative_url }}">Mission Statement</a>
        {%- endif -%}
        <!-- Search button removed -->
        <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
          <span class="hamburger-icon"></span>
        </button>
      </div>
      {%- if site.data.navigation.header -%}
      <nav class="navigation">
        <ul>
          {%- for _item in site.data.navigation.header -%}
            {%- include snippets/get-nav-url.html path=_item.url -%}
            {%- assign _nav_url = __return -%}
            {%- include snippets/get-nav-url.html path=page.url -%}
            {%- assign _page_url = __return -%}
            {%- include snippets/get-string-from-locale-config.html locale=_item.titles -%}
            {%- if _nav_url == _page_url or page.nav_key and _item.key and page.nav_key == _item.key -%}
              <li class="navigation__item navigation__item--active"><a href="{{ _nav_url }}">{%- if _item.title -%}{{ _item.title }}{%- else -%}{{ __return }}{%- endif -%}</a></li>
            {%- else -%}
              <li class="navigation__item"><a href="{{ _nav_url }}">{%- if _item.title -%}{{ _item.title }}{%- else -%}{{ __return }}{%- endif -%}</a></li>
            {%- endif -%}
          {%- endfor -%}
          {%- if page.url == "/" or page.url == "/index.html" -%}
          <li class="navigation__item navigation__item--mobile-only">
            <button class="button button--secondary mission-button" onclick="document.querySelector('.grid.grid--reverse')?.scrollIntoView({behavior: 'smooth', block: 'start'})">Mission Statement</button>
          </li>
          {%- else -%}
          <li class="navigation__item navigation__item--mobile-only">
            <a class="button button--secondary mission-button" href="{{ "/#mission" | relative_url }}">Mission Statement</a>
          </li>
          {%- endif -%}
          <button class="blog" onclick="window.location.href ='{{"Blog.html" | relative_url }}'">Community</button> 
          <li>
            <a href="https://github.com/arm-university/Arm-Developer-Labs" target="_blank" rel="noopener noreferrer" class="button button--secondary button--circle search-button">
              <img src="https://arm-university.github.io/Arm-Developer-Labs/images/github-mark.svg" alt="GitHub Logo" class="github-button__img"/>
            </a>
          </li>
        </ul>
      </nav>
      <!--<button class="blog" onclick="window.location.href ='{{"Blog.html" | relative_url }}'">Community</button> -->
      {%- endif -%}
    </div>
    <script>
      (function() {
        var menuToggle = document.querySelector('.mobile-menu-toggle');
        var navigation = document.querySelector('.navigation');
        var header = document.querySelector('.header');
        
        if (menuToggle && navigation) {
          menuToggle.addEventListener('click', function() {
            navigation.classList.toggle('navigation--open');
            menuToggle.classList.toggle('is-active');
            header.classList.toggle('menu-open');
          });
          
          // Close menu when clicking on a nav link
          navigation.querySelectorAll('a, button').forEach(function(link) {
            link.addEventListener('click', function() {
              navigation.classList.remove('navigation--open');
              menuToggle.classList.remove('is-active');
              header.classList.remove('menu-open');
            });
          });
        }
      })();
    </script>
  </header> 
